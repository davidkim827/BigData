Microsoft PowerPoint - lecture02-06022018-v02 3/3/2019 1 MINING DATA WITH R R is just a tool GIVE ME 6 HOURS TO CUT DOWN A TREE AND I WILL SPEND THE FIRST FOUR HOURS SHARPENING MY AXE ....ANONYMOUS TO BE CONTINUED You have taken the first step toward sharpening your axe! Continuous Learning 3/3/2019 2 WHY: INDUSTRY APPLICATIONS WHAT: DATA  DATA SCIENCE 3/3/2019 3 THERE ARE SO MANY TOOLS  python  Apache Spark  Julia  SAS, SPSS  Weka, H2O etc  R OUR CHOICE IS R! 3/3/2019 4 WHY, WHAT AND HOW? Why What How What are we seeking to learn in R? Why should we learn R? How to learn R? RULE#1: ASK QUESTIONS R is a data centric language Written for data manipulation Written by those whose only occupation was data It is the most statistically grounded language Results are robust and statistically valid R is COMPELLING for Exploratory Data Analysis EDA aids in understanding data EDA = quick analysis with effortless visualization EDA is most important step in data analysis Our standard process for data analysis  CRISP-DM Understand Business, Understand Data, prepare data,model,evaluate, deploy https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining 3/3/2019 5 WHAT IS R?  A language designed for vector processing  Functional  repository based  Memory driven  Free, actively maintained by serious statisticians  Learn by doing  from example solutions  Make it a habit -- R-bloggers.com, stackoverflow.com/  Download R from https://www.r-project.org/  Rstudio and rmarkdown can wait.  http://www.r-tutor.com/content/r-tutorial-ebook WE WILL WORK THROUGH SOME EXAMPLES FROM THIS BOOK  http://dataminingbook.info  http://www.cs.rpi.edu/~zaki/dataminingbook  http://www.dcc.ufmg.br/dataminingbook 3/3/2019 6 HOW? BY DOING, LET US START R system supports many types of objects Scalars, vectors,lists, array, matrix, data.frame,struct df2<-data.frame(gender=sample(c('M','F'),10,replace=T),age=sample(1:300,10,replace=T)) mx<-cbind(sample(c('m','F'),10,replace=T)) aScalar<-3 aVector<-seq(1:7) anotherVector<-1:7 alist<-list(aScalar,aVector,anotherVector) o2<-alist[2] class(o2) o2[1] o2l<-o2[[1]] o2l[3] named.alist<-list(s=aScalar,v=aVector,av=anotherVector) named.alist$s named.alist$v named.alist<-list(s=aScalar,v=aVector,av=anotherVector) named.alist$s named.alist$v names(named.alist) lapply(named.alist,length) Switch gear up a notch MATHexp(named.alist$v) log(exp(named.alist$v)) R like many other PL can do any kind of math The difference R understands a vector and does vector math a = c(1, 3, 5, 7) b = c(1, 2, 4, 8) 3/3/2019 7 DATA MATRIX Each row is an observation. Each column Is an attribute. Also known as Wide Format. Course,title,cr,faculty,dept CS6513, Big Data,3,RK,CSE CS6923,ML,RK,CSE There is a long format in which an observation spans multiple rows, as many rows as there are attributes. Each row has one attribute and the value associated with that attribute. Course,id,cs6923 Course,title,ML Course,faculty,RK Course,dept,CSE ATTRIBUTES: WITHOUT ATTRIBUTES SILVER=COPPER 3/3/2019 8 LINEAR ALGEBRA: FOUNDATIONS LINEAR ALGEBRA: DISTANCE 3/3/2019 9 NORM, ANGLE, COSINE a = c(1, 3, 5, 7) b = c(1, 2, 4, 8) 5 * a a + b a*b sum(a*b/(sqrt(sum(a*a))*sqrt(sum(b*b)))) > a<-c(5,3) > b<-c(1,4) > c<-a-b > c > c*c > sum(c*c) > absa<-sum(a*a) > ua<-a/sqrt(absa) > ua [1] 0.8574929 0.5144958 2D t(a)*b/(sqrt(sum(a*a))*sqrt(sum(b*b))) 4D ORTHOGONALITY 3/3/2019 10 STATISTICS PROJECTION: HOW SIMILAR IS A DOG SIMILAR TO AN ELEPHANT? 3/3/2019 11 LINEAR INDEPENDENCE PROBABILITY 3/3/2019 12 ESSENTIAL FUNCTIONS WE NEED Read dataset Get a Summary of data (EDA) Visualize the data (EDA) Data collection is hard. Preparing data is even harder. It does cost time and effort to prepare/cleanse data . Try running models on unsuitable data!!!. erroneous conclusion Is sometime unavoidable because one chooses an incorrect model. However, coming to an invalid conclusion because we did not explore, prepare and cleanse the data is ALWAYS avoidable. Therefore, there is no excuse for not exploring the data, To understand the data To cleanse To prepare data For further analysis ERRONEOUS DATA  Missing data  outlier data  not all outlier are equal -- anomaly detection www-users.cs.umn.edu/~banerjee/papers/09/anomaly.pdf  some rare patterns occur due to randomness and size of sample  Bonferroni's Principle and Bonferroni Correction can help us reject such patterns which occur due to randomness not because of any underlying physical or other phenomena. Our brain operates on patterns  the zodiac signs are a classic manifestation of that. 3/3/2019 13 LET US RUN A SIMPLE LINEAR MODEL Let us start with a famous example anscombe with a simple linear model...where y= mx+c M is the slope and c is the intercept, this is called linear because y varies linearly with x. It is easy to find m and c given y and x in R. plot(anscombe$x1,anscombe$y1) > plot(anscombe$x2,anscombe$y2) > plot(anscombe$x3,anscombe$y3) > plot(anscombe$x4,anscombe$y4) > lm1<-lm(y1~x1,data=anscombe) > lm2<-lm(y2~x2,data=anscombe) > lm3<-lm(y3~x3,data=anscombe) > lm4<-lm(y4~x4,data=anscombe) STATISTICS 3/3/2019 14 NOW LET US RUN A SIMPLE VISUALIZATION plot(anscombe$x1,anscombe$y1) > plot(anscombe$x2,anscombe$y2) > plot(anscombe$x3,anscombe$y3) > plot(anscombe$x4,anscombe$y4) If we rely exclusively on Statistics We will come to the wrong conclusion. Visualization sets us straight in very easy terms. OUTLIERS Even though this is a small dataset, it is still taxing to spot the outliers we cannot tell... imagine millions of them floating by...there is just no way to tell. However plotting gives It away... Effortless 3/3/2019 15 OUTLIERS USING BOXPLOT 10 8 13 9 11 14 6 4 12 7 5 7.46 6.77 12.74 7.11 7.81 8.84 6.08 5.39 8.15 6.42 5.73 8 8 8 8 8 8 8 19 8 8 8 6.58 5.76 7.71 8.84 8.47 7.04 5.25 12.50 5.56 7.91 6.89 ANOMALY Anomaly Detection: A Survey VARUN CHANDOLA, ARINDAM BANERJEE, and VIPIN KUMAR University of Minnesota www-users.cs.umn.edu/~banerjee/papers/09/anomaly.pdf Input is generally a collection of data instances (also referred as object, record, point, vector, pattern, event, case, sample, observation, or entity). Each data instance can be described using a set of attributes (also referred to as variable, characteristic, feature, field, or dimension). The attributes can be of different types suchas binary,categorical,or continuous. Each data instance might consist of only one attribute (univariate) or multiple attributes (multivariate). Adding to our vocabulary ... 3/3/2019 16 HOW TO READ/WRITE DATA ARE WE DONE WITH READ/WRITE? 3/3/2019 17 WE MUST ALWAYS VERIFY ans$x1==anscombe$x1 table(ans$x1==anscombe$x1) ans$x2==anscombe$x2 table(ans$x1==anscombe$x1) unlist(lapply(1:8,FUN=function(x)table(ans[x+1]==anscombe[x]))) Now let us use R to do all the work for us. GGPLOT ggplot(data.frame(x=anscombe$x1,y=anscombe$y1),aes(x=x,y=y))+geom_line()+geom_smooth() ggplot(data.frame(x=anscombe$x2,y=anscombe$y2),aes(x=x,y=y))+geom_line()+geom_smooth() 3/3/2019 18 GGPLOT GRAMMAR OF GRAPHICS ggplot(data.frame(x=anscombe$x3,y=anscombe$y3),aes(x=x,y=y))+geom_line()+geom_smooth() ggplot(data.frame(x=anscombe$x4,y=anscombe$y4),aes(x=x,y=y))+geom_line()+geom_smooth() FLASHBACK REVIEW AND RECALL 3/3/2019 19 R UTILITIES WE HAVE LOOKED AT TODAY lm  linear model Summary Table Plot Data.frame Matrix List/vector/lapply